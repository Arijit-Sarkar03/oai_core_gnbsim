<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title> OAI-RTMP-Stream</title>
    <!--link href="css/bootstrap.min.css" rel="stylesheet"-->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" rel="stylesheet">
    <!--link href="css/video-js.css" rel="stylesheet"-->
    <link href="https://vjs.zencdn.net/5.19.2/video-js.css"  rel="stylesheet">
    <link rel="stylesheet" href="css/hls.css">
  </head>
  <body onload="changeStream()" class="bg-light">
	<center>
  <header class="header">
		<img align="left" src="logos/5gucl.png" alt="5G-UCL" style="height:75px">
		<img align="middle" src="logos/IDRBT.png" alt="IDRBT" style="height:50px">
		<img align="right" src="logos/NIL.png" alt="NIL" style="height:75px">
	</header>
    Stream ID: <input type="text" id="streamid" value="test"> | 
    <button type="button" onclick="changeStream()">Change Stream</button>
    <script>
    function changeStream() {
      document.getElementById("streamid").defaultValue = "test";
      var streamID=document.getElementById("streamid").value;
      alert("Starting stream ID:"+streamID);
      var player = videojs('video');
      player.qualityPickerPlugin();
      player.src({
        src:'/hls/'+streamID+'.m3u8',
        //src: '/hls/test.m3u8',
        type: 'application/x-mpegURL'
      });
      player.play();
    }
    </script>
    <div class="container">
        <div class="my-5 embed-responsive embed-responsive-16by9">
            <video id="video" class="embed-responsive-item video-js vjs-default-skin" width="640" height="360" autoplay controls></video>
        </div>        
    </div>
    <script src="js/video.js"></script>
    <!-- https://vjs.zencdn.net/5.19.2/video.js -->
    <script src="js/hls.min.js?v=v0.9.1"></script>
    <!-- https://github.com/video-dev/hls.js -->
    <script src="js/videojs5-hlsjs-source-handler.min.js?v=0.3.1"></script>
    <!-- https://github.com/streamroot/videojs-hlsjs-plugin -->
    <script src="js/vjs-quality-picker.js?v=v0.0.2"></script>
    <!-- https://github.com/streamroot/videojs-quality-picker -->
    </center>
  </body>
</html>

